/*Напишите функцию, которая берет объект любой вложенности и 
преобразует ее в единую плоскую карту с разными уровнями, разделенными косой чертой ( `'/'`).*/

// Функція mapObject перетворює вкладений об'єкт у єдину плоску карту з роздільниками '/'
// Приймає два аргументи: obj - об'єкт для обробки, prefix (за замовчуванням пустий рядок) - поточний префікс ключа
function mapObject(obj, prefix = '') {
    // Створюємо пустий об'єкт для зберігання результату
    const result = {};

    // Перебираємо всі ключі в об'єкті
    for (const key in obj) {
        if (obj.hasOwnProperty(key)) {
            // Створюємо новий ключ з урахуванням префіксу
            const newKey = prefix ? `${prefix}/${key}` : key;

            // Перевіряємо, чи є значення ключа об'єктом (не масивом)
            if (typeof obj[key] === 'object' && !Array.isArray(obj[key])) {
                // Якщо значення - об'єкт, викликаємо функцію mapObject рекурсивно для обробки вкладеного об'єкта
                // і об'єднуємо результати з поточним об'єктом result
                Object.assign(result, mapObject(obj[key], newKey));
            } else {
                // Якщо значення не є об'єктом, просто копіюємо його в результат
                result[newKey] = obj[key];
            }
        }
    }

    // Повертаємо кінцевий об'єкт
    return result;
}

// Приклад вхідних даних
const obj = {
    a: {
        b: {
            c: 12,
            d: 'Привіт, світ!',
        },
        e: [1, 2, 3],
    },
};

// Викликаємо функцію mapObject для перетворення об'єкта в плоску карту
const flatMapResult = mapObject(obj);

// Виводимо результат
console.log(flatMapResult);
